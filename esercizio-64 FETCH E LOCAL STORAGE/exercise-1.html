<html>
  <body>
    <div id="container">
      <button type="button" id="fetch-post">Fetch Post</button>
      <button type="button" id="save-post">Save Post on LocalStorage</button>
    </div>
  </body>
</html>

<script>
  let fetchPost;

  let bottone = document.getElementById('fetch-post');
  bottone.addEventListener('click', function() {
    fetch('https://jsonplaceholder.typicode.com/posts/1') //il fetch è una promise che come parametro accetta url del json e prende i dati dal server (inviare richieste di rete per richiedere informazioni dal server.)

    .then(response => response.json()) //con response prendo tutta la risposta dalla fetch. ma se utilizzo il metodo json è una promise che ha come risponsta solo il parse del json e di ciò che mi serve.

    //facciamo un altro then  perché il .json è un'altra promise
    .then(data => {
      fetchPost = data;
    }) //prende il risultato della promise .json
  });

  let save = document.getElementById('save-post');
  save.addEventListener('click', function() {
    localStorage.setItem('post', JSON.stringify(fetchPost));
  })
  
  
</script>
